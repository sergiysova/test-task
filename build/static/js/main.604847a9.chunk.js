(this["webpackJsonptest-app"]=this["webpackJsonptest-app"]||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/man-laptop-v1.3cdf7897.svg"},19:function(e,t,a){e.exports=a.p+"static/media/logo.146e2926.svg"},21:function(e,t,a){e.exports=a(34)},33:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),c=a(7),o=a(11),l=a.n(o),i=a(8),u=a(2),m=a(3),d=a(1),p=a.n(d),f=a(4),b=a(17),v=new function e(){var t=this;Object(b.a)(this,e),this.getResource=function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t)+", received ".concat(a.status));case 5:return e.next=7,a.json();case 7:return n=e.sent,console.log(n),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addNewUser=function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://frontend-test-assignment-api.abz.agency/api/v1/users",{method:"POST",body:t.formData,headers:{Token:t.token}});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,console.log(n),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getToken=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("https://frontend-test-assignment-api.abz.agency/api/v1/token/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.getPositions=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("https://frontend-test-assignment-api.abz.agency/api/v1/positions/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},h={users:{nextPageUrl:null,data:[],status:"idle",error:null},newUser:{status:"idle",error:null,result:{},popupOpened:!1},token:{data:{},status:"idle",error:null},positions:{data:{},status:"idle",error:null}},E=Object(i.b)("users/fetchUsers",Object(f.a)(p.a.mark((function e(){var t,a=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"https://frontend-test-assignment-api.abz.agency/api/v1/users?page=1&count=6",e.abrupt("return",v.getResource(t));case 2:case"end":return e.stop()}}),e)})))),g=Object(i.b)("users/addNewUSer",function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.addNewUser(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),N=Object(i.b)("users/fetchToken",Object(f.a)(p.a.mark((function e(){var t,a,n=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"https://frontend-test-assignment-api.abz.agency/api/v1/token",e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))),x=Object(i.b)("users/fetchPositions",Object(f.a)(p.a.mark((function e(){var t,a,n=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"https://frontend-test-assignment-api.abz.agency/api/v1/positions",e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))),w=Object(i.c)({name:"users",initialState:h,reducers:{resetState:function(e){e.users=h.users,e.newUser=h.newUser,e.token=h.token}},extraReducers:(n={},Object(u.a)(n,E.pending,(function(e){e.users.status="loading"})),Object(u.a)(n,E.fulfilled,(function(e,t){e.users.status="succeeded",e.users.data=Object(m.a)(e.users.data.concat(t.payload.users)),e.users.nextPageUrl=t.payload.links.next_url})),Object(u.a)(n,E.rejected,(function(e,t){e.users.status="failed",e.users.error=t.error.message})),Object(u.a)(n,g.pending,(function(e){e.newUser.status="loading"})),Object(u.a)(n,g.fulfilled,(function(e,t){e.newUser.status="succeded",e.newUser.result=t.payload,e.newUser.popupOpened=!0})),Object(u.a)(n,g.rejected,(function(e,t){e.newUser.status="failed",e.newUser.error=t.error.message})),Object(u.a)(n,N.pending,(function(e){e.token.status="loading"})),Object(u.a)(n,N.fulfilled,(function(e,t){e.token.status="succeeded",e.token.data=t.payload.token})),Object(u.a)(n,N.rejected,(function(e,t){e.token.status="failed",e.token.error=t.error.message})),Object(u.a)(n,x.pending,(function(e,t){e.positions.status="loading"})),Object(u.a)(n,x.fulfilled,(function(e,t){e.positions.status="succeeded",e.positions.data=t.payload.positions})),Object(u.a)(n,x.rejected,(function(e,t){e.positions.status="failed",e.positions.error=t.error.message})),n)}),k=w.actions.resetState,y=w.reducer,j=Object(i.a)({reducer:{app:y}}),O=(a(33),function(e){var t=e.type,a=void 0===t?"":t;return s.a.createElement("a",{href:"#form-section",className:"btn ".concat(a)},"Sign up now")}),U=function(){return s.a.createElement("div",{className:"top-section"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-7 col-md-8"},s.a.createElement("h1",null,"Test assignment for Frontend Developer position"),s.a.createElement("p",{className:"subtitle"},"We kindly remind you that your test assignment should be submitted as a link to github/bitbucket repository. ",s.a.createElement("span",{className:"remove-mobile"},"Please be patient, we consider and respond to every application that meets minimum requirements. We look forward to your submission. Good luck! The photo has to scale in the banner area on the different screens")),s.a.createElement(O,null)))))},S=a(18),z=a.n(S),C=function(){return s.a.createElement("div",{className:"developer-section container-fluid"},s.a.createElement("div",{className:"container"},s.a.createElement("h2",{className:"text-center"},"Let's get acquainted"),s.a.createElement("div",{className:"row "},s.a.createElement("div",{className:"col-lg-5 col-md-4"},s.a.createElement("img",{src:z.a,alt:"man with laptop"})),s.a.createElement("div",{className:"col-lg-7 col-md-8"},s.a.createElement("h3",null,"I am cool frontend developer"),s.a.createElement("p",null,"We will evaluate how clean your approach to writing CSS and Javascript code is. You can use any CSS and Javascript 3rd party libraries without any restriction.",s.a.createElement("br",null),s.a.createElement("br",null),"If 3rd party css/javascript libraries are added to the project via bower/npm/yarn you will get bonus points. If you use any task runner (gulp/webpack) you will get bonus points as well. Slice service directory page P\u200bSD mockup\u200b into HTML5/CSS3."),s.a.createElement(O,{type:"secondary"})))))},P=function(e){var t=e.user,a=t.name,n=t.email,r=t.phone,c=t.position,o=t.photo,l=a.length<24?s.a.createElement("h3",{className:"user-name"},a):s.a.createElement("h3",{className:"user-name tooltip-container","data-tooltip":a},"".concat(a.substr(0,16),"...")),i=n.length<24?s.a.createElement("p",{className:"user-email"},n):s.a.createElement("p",{className:"user-email tooltip-container","data-tooltip":n},"".concat(n.substr(0,20),"..."));return s.a.createElement("div",{className:"user-card text-center"},s.a.createElement("img",{className:"user-image",src:o,alt:"avatar"}),l,s.a.createElement("p",{className:"user-position"},c),i,s.a.createElement("p",{className:"user-phone"},r))},F=function(e){var t=e.users,a=(void 0===t?[]:t).slice().sort((function(e,t){return t.registration_timestamp-e.registration_timestamp})).map((function(e){return s.a.createElement("div",{key:e.id,className:"col-md-4"},s.a.createElement(P,{user:e}))}));return s.a.createElement(s.a.Fragment,null,a)},R=function(e){e.usersPerPage;var t=Object(c.c)((function(e){return e.app.users})),a=t.data,n=t.status,o=t.nextPageUrl,l=t.error,i=Object(c.b)();Object(r.useEffect)((function(){"idle"===n&&i(E())}),[n,i,a]);if(l)return s.a.createElement("div",null,l);var u=o?s.a.createElement("button",{className:"btn center",type:"button",onClick:function(){i(E(o))}},"Show More"):null;return s.a.createElement("div",{className:"users-list"},s.a.createElement("div",{className:"row justify-content-space-around"},s.a.createElement(F,{users:a})),u)},T=function(){return s.a.createElement("div",{className:"users-section container-fluid"},s.a.createElement("div",{className:"container"},s.a.createElement("h2",{className:"text-center"},"Our cheerful users"),s.a.createElement("p",{className:"text-center"},"Attention! Sorting users by registration date"),s.a.createElement(R,{postsPerPage:"6"})))},q=a(5),L=a(20),_=function(e){var t=e.onModalClosed,a=e.shown,n="modal ".concat(a?"shown":"");return s.a.createElement("div",{className:n,tabIndex:"-1",role:"dialog"},s.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h3",null,"Congratulations"),s.a.createElement("button",{type:"button",className:"close",onClick:t},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("p",null,"You have successfully passed the registration")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn right short",onClick:t},"Great")))))},M=function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.app.positions})),a=Object(c.c)((function(e){return e.app.token})),n=Object(c.c)((function(e){return e.app.newUser})),o=Object(r.useState)("Choose file"),l=Object(q.a)(o,2),i=l[0],u=l[1],m=Object(L.a)({mode:"onChange"}),d=m.register,p=m.handleSubmit,f=m.errors;Object(r.useEffect)((function(){"idle"===a.status&&e(N()),"idle"===t.status&&e(x())}),[e,t.status,a.status]);if("loading"===a.status||"loading"===t.status)return s.a.createElement("p",null,"Loading...");if("succeeded"!==a.status||"succeeded"!==t.status)return s.a.createElement("p",null,"somesing went wrong");var b=t.data.map((function(e){var t=e.id,a=e.name;return s.a.createElement("div",{className:"custom-control custom-radio",key:t},s.a.createElement("input",{type:"radio",className:"custom-control-input",name:"position_id",id:"position-".concat(t),value:t,ref:d({required:!0})}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"position-".concat(t)},a))}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("form",{action:"",className:"form",onSubmit:p((function(t){var n=new FormData;for(var r in t)"photo"===r&&(console.log(r,t[r]),n.append(r,t[r][0])),n.append(r,t[r]);e(g({formData:n,token:a.data}))})),noValidate:!0},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"name"},"Name"),s.a.createElement("input",{type:"text",name:"name",className:"form-control ".concat(f.name?"is-invalid":null),ref:d({required:!0,maxLength:80,minLength:2})}),s.a.createElement("div",{className:"invalid-feedback"},"Username should contain 2-60 characters")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"email"},"Email"),s.a.createElement("input",{type:"email",name:"email",className:"form-control ".concat(f.email?"is-invalid":null),ref:d({required:!0,maxLength:100,minLength:2,pattern:/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/})}),s.a.createElement("div",{className:"invalid-feedback"},"User email, must be a valid email according to RFC2822")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"phone"},"Phone"),s.a.createElement("input",{type:"tel",name:"phone",className:"form-control ".concat(f.phone?"is-invalid":null),ref:d({required:!0,pattern:/^[\+]{0,1}380([0-9]{9})$/})}),s.a.createElement("div",{className:"invalid-feedback"},"User phone number. Number should start with code of Ukraine +380")),s.a.createElement("div",{className:"form-group ".concat(f.position_id?"invalid-radios":"")},s.a.createElement("label",null,"Select Your Position"),b,s.a.createElement("div",{className:"invalid-feedback"},"Select your position")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"photo"},"Photo"),s.a.createElement("div",{className:"custom-file"},s.a.createElement("input",{type:"file",className:"custom-file-input ".concat(f.photo?"is-invalid":null),name:"photo",ref:d({required:!0,validate:function(e){return function(e){var t=e[0];if(console.log(t),!t)return u("Choose file"),!1;var a=t.size<5242880,n=t.type.includes("jpeg");return console.log(a,n),!(!a||!n)&&(u(t.name),!0)}(e)}})}),s.a.createElement("div",{className:"invalid-feedback"},"User photo should be jpg/jpeg image, with resolution at least 70x70px and size must not exceed 5MB."),s.a.createElement("label",{className:"custom-file-label",htmlFor:"user-photo"},i))),s.a.createElement("button",{type:"submit",className:"btn"},"Sign Up Now")),s.a.createElement(_,{onModalClosed:function(){return e(k())},shown:n.popupOpened,successful:n.result.sucess}))},A=function(){return s.a.createElement("div",{id:"form-section",className:"form-section container-fluid"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"col-lg-6 col-md-8"},s.a.createElement("h2",{className:"text-center"},"Register to get a work"),s.a.createElement("p",{className:"text-center"},"Attention! After successful registration and alert, update the list of users in the block from the top"),s.a.createElement(M,null)))))},D=function(){return s.a.createElement("div",{id:"footer-section",className:"footer-section"},s.a.createElement("p",{className:"text-center"},"\xa9 abz.agency specially for the test task"))},I=a(19),J=a.n(I),$=function(){var e=Object(r.useState)(!1),t=Object(q.a)(e,2),a=t[0],n=t[1];return s.a.createElement("header",{className:"fixed-top header"},s.a.createElement("div",{className:"container"},s.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-none "},s.a.createElement("a",{className:"navbar-brand",href:"/"},s.a.createElement("img",{src:J.a,className:"logo",alt:"logo"})),s.a.createElement("div",{className:"collapse navbar-collapse ".concat(a?"show":""),id:"navbarText"},s.a.createElement("ul",{className:"navbar-nav ml-auto"},s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link",href:"#"},"About Me")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link",href:"#"},"Relationships")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link",href:"#"},"Requirements")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link",href:"#"},"Users")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link",href:"#"},"Sign Up")))),s.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:function(){n((function(e){return n(!e)}))},"aria-label":"Toggle navigation"},s.a.createElement("span",{className:"navbar-toggler-icon"})))))};var W=function(){return s.a.createElement("div",{className:"App"},s.a.createElement($,null),s.a.createElement(U,null),s.a.createElement(C,null),s.a.createElement(T,null),s.a.createElement(A,null),s.a.createElement(D,null))};l.a.render(s.a.createElement(c.a,{store:j},s.a.createElement(W,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.604847a9.chunk.js.map